<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Open-Sessame Framework: Time.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<h1>Time.h</h1><a href="Time_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 
<a name="l00008"></a>00008 <span class="comment">/* \todo Finish implementing the rest of the time representatins.</span>
<a name="l00009"></a>00009 <span class="comment">*/</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#ifndef __SSF_TIME_H__</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#define __SSF_TIME_H__</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="MathUtils_8h.html">MathUtils.h</a>"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;sys/time.h&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;iostream.h&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;iomanip.h&gt;</span>
<a name="l00020"></a>00020 <span class="keyword">namespace </span>O_SESSAME {
<a name="l00022"></a>00022 
<a name="l00037"></a><a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">00037</a> <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a>;      <span class="comment">/*&lt; Simulation representation of seconds \ingroup Utilities*/</span>
<a name="l00038"></a><a class="code" href="group__TimeUtils.html#gfb19ff649670a1feab35b5204bcb5f02">00038</a> <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="group__TimeUtils.html#gfb19ff649670a1feab35b5204bcb5f02">ssfJulianDate</a>;   <span class="comment">/*&lt; Simulation representation of Julian Dates \ingroup Utilities */</span>
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="group__TimeUtils.html#g330cbbcfa48037d687f91ac90961d53e">00040</a> <span class="preprocessor">#define TIME_PRECISION 15       </span><span class="comment">/*&lt; Precision of time output when outputting seconds */</span>
<a name="l00041"></a>00041 
<a name="l00043"></a>00043 <span class="keyword">class </span>ssfTime;
<a name="l00044"></a>00044 
<a name="l00061"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html">00061</a> <span class="keyword">class </span><a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a>
<a name="l00062"></a>00062 {
<a name="l00063"></a>00063 <span class="keyword">public</span>:
<a name="l00065"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">00065</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">ssfTime</a>()                           
<a name="l00066"></a>00066         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(<a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a>(0)); <a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(<a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a>(0));};
<a name="l00070"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#5f9a9bb5fc65fe90e02b6d13b0edc955">00070</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">ssfTime</a>(tm _Time)                   
<a name="l00071"></a>00071         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(_Time);};
<a name="l00081"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#a44c0381ba450a332142459ff72bab27">00081</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">ssfTime</a>(timeval _Time)                      
<a name="l00082"></a>00082         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(_Time);};
<a name="l00086"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#9dbfa176b530f0e59d6d7f34dfd0112d">00086</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">ssfTime</a>(<a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> _Time)           
<a name="l00087"></a>00087         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(_Time);};
<a name="l00088"></a>00088     
<a name="l00097"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#32004ddbb8b83f518ff493f11a1a58e6">00097</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">ssfTime</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> month, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> minute, <span class="keywordtype">double</span> seconds)         
<a name="l00098"></a>00098         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(year, month, day, hour, minute, seconds);};
<a name="l00099"></a>00099     
<a name="l00103"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">00103</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(tm _newTime)               
<a name="l00104"></a>00104         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(static_cast&lt;ssfSeconds&gt;(timegm(&amp;_newTime)));};
<a name="l00105"></a>00105     
<a name="l00115"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#0f9cfa2355b7ba5f840aee9b6cfe4770">00115</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(timeval _Time)                     
<a name="l00116"></a>00116         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(_Time.tv_sec + _Time.tv_usec/1000000.);};
<a name="l00117"></a>00117         
<a name="l00122"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#e28ca5a6eb6946c4eefce240bae8d720">00122</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(<a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> _newTime)       
<a name="l00123"></a>00123         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> = _newTime;};
<a name="l00124"></a>00124     
<a name="l00128"></a>00128     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#d631ae9b74599c3b6963652721cda678">SetJulianDate</a>(<a class="code" href="group__TimeUtils.html#gfb19ff649670a1feab35b5204bcb5f02">ssfJulianDate</a> _newJD);
<a name="l00129"></a>00129         
<a name="l00133"></a>00133     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#9ec03d2da97eaf7e1a1cdb7329ae75bb">SetEpochJulianDate</a>(<a class="code" href="group__TimeUtils.html#gfb19ff649670a1feab35b5204bcb5f02">ssfJulianDate</a> _newJD);
<a name="l00134"></a>00134     
<a name="l00143"></a>00143     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> month, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> minute, <span class="keywordtype">double</span> seconds);
<a name="l00144"></a>00144         
<a name="l00148"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#3c84af54b7c978b6b519ec4379d64df0">00148</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#3c84af54b7c978b6b519ec4379d64df0">SetTimeAfterEpoch</a>(<a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> _timeAfter)       
<a name="l00149"></a>00149         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(<a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">m_EpochTime</a> + _timeAfter);}; 
<a name="l00150"></a>00150     
<a name="l00154"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">00154</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(<a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> _newEpochTime)     
<a name="l00155"></a>00155         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">m_EpochTime</a> = _newEpochTime;};
<a name="l00156"></a>00156     
<a name="l00160"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#298aceffc1960f9519e852c2c29327a2">00160</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(tm _newEpochTime)     
<a name="l00161"></a>00161         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(static_cast&lt;ssfSeconds&gt;(timegm(&amp;_newEpochTime)));};
<a name="l00162"></a>00162         
<a name="l00172"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#f6e8d3d62e55bd0c97745308d5ae42fa">00172</a>     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(<span class="keyword">const</span> timeval &amp;_Time)                         
<a name="l00173"></a>00173         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(_Time.tv_sec + _Time.tv_usec/1000000.);};
<a name="l00174"></a>00174     
<a name="l00183"></a>00183     <span class="keywordtype">void</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#2750bff922f99e2ae4baa88b02b2364a">SetEpoch</a>(<span class="keywordtype">int</span> year, <span class="keywordtype">int</span> month, <span class="keywordtype">int</span> day, <span class="keywordtype">int</span> hour, <span class="keywordtype">int</span> minute, <span class="keywordtype">double</span> seconds);
<a name="l00184"></a>00184     
<a name="l00188"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">00188</a>     <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>()<span class="keyword">  const      </span>
<a name="l00189"></a>00189 <span class="keyword">        </span>{<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a>;};
<a name="l00190"></a>00190 
<a name="l00213"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#7328da9440c3ef38d248fc6537e75c5b">00213</a>     tm <a class="code" href="classO__SESSAME_1_1ssfTime.html#7328da9440c3ef38d248fc6537e75c5b">GetDateTime</a>()<span class="keyword">  const     </span>
<a name="l00214"></a>00214 <span class="keyword">        </span>{time_t t = static_cast&lt;time_t&gt;(floor(<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a>));<span class="keywordflow">return</span> *gmtime(&amp;t);};
<a name="l00215"></a>00215     
<a name="l00239"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#b0345c850e80545d13d0e43195f175e8">00239</a>     tm <a class="code" href="classO__SESSAME_1_1ssfTime.html#b0345c850e80545d13d0e43195f175e8">GetEpochDateTime</a>()<span class="keyword">  const        </span>
<a name="l00240"></a>00240 <span class="keyword">        </span>{time_t t = static_cast&lt;time_t&gt;(floor(<a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">m_EpochTime</a>));<span class="keywordflow">return</span> *gmtime(&amp;t);};
<a name="l00241"></a>00241         
<a name="l00245"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#397e344a160d722c19a2f4e47258faff">00245</a>     <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#397e344a160d722c19a2f4e47258faff">GetEpoch</a>()<span class="keyword"> const </span>
<a name="l00246"></a>00246 <span class="keyword">        </span>{<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">m_EpochTime</a>;};
<a name="l00247"></a>00247         
<a name="l00248"></a>00248         
<a name="l00252"></a>00252     <a class="code" href="group__TimeUtils.html#gfb19ff649670a1feab35b5204bcb5f02">ssfJulianDate</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#eabe8573b099cd814ac929496cb7359f">GetJulianDate</a>() <span class="keyword">const</span>;
<a name="l00253"></a>00253     
<a name="l00257"></a>00257     <a class="code" href="group__TimeUtils.html#gfb19ff649670a1feab35b5204bcb5f02">ssfJulianDate</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#a898edbcecae342f14d92beffe59ac5c">GetEpochJulianDate</a>() <span class="keyword">const</span>;
<a name="l00258"></a>00258     
<a name="l00259"></a>00259         
<a name="l00263"></a>00263     <a class="code" href="group__Trigonometry.html#g3daa6e6046c1157e3486877665f1015c">Angle</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#ff5fc3cae1458db897d6254151ee8dee">GetGreenwichMeanSiderealTime</a>() <span class="keyword">const</span>;
<a name="l00264"></a>00264     
<a name="l00271"></a>00271     <a class="code" href="group__Trigonometry.html#g3daa6e6046c1157e3486877665f1015c">Angle</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#4546f1dda109b898cfe9d34826e221d7">GetEpochGreenwichMeanSiderealTime</a>() <span class="keyword">const</span>;
<a name="l00272"></a>00272 
<a name="l00279"></a>00279 <span class="comment">//    tm GetEpoch() const </span>
<a name="l00280"></a>00280   <span class="comment">//      {return *gmtime(&amp;m_EpochTime);};</span>
<a name="l00281"></a>00281     
<a name="l00285"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#f90855cce8dab1934ae0c23c08e43975">00285</a>     <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#f90855cce8dab1934ae0c23c08e43975">SecondsSinceEpoch</a>()<span class="keyword"> const</span>
<a name="l00286"></a>00286 <span class="keyword">        </span>{<span class="keywordflow">return</span> static_cast&lt;ssfSeconds&gt;(<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> - <a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">m_EpochTime</a>);};
<a name="l00287"></a>00287     
<a name="l00292"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#63e845c8417ced4a6a5346a840091730">00292</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#63e845c8417ced4a6a5346a840091730">operator+ </a>(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; rhsSeconds)<span class="keyword"> const</span>
<a name="l00293"></a>00293 <span class="keyword">        </span>{<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#63e845c8417ced4a6a5346a840091730">operator+</a>(static_cast&lt;ssfSeconds&gt;(rhsSeconds));};
<a name="l00294"></a>00294     
<a name="l00299"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#d871bf8787265cb7323a29488d878481">00299</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#d871bf8787265cb7323a29488d878481">operator+= </a>(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; rhsSeconds)
<a name="l00300"></a>00300         {<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#d871bf8787265cb7323a29488d878481">operator+=</a>(static_cast&lt;ssfSeconds&gt;(rhsSeconds));};       
<a name="l00301"></a>00301 
<a name="l00306"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#081f1e07b6bf25ccd0ffbf6dd5bbbd79">00306</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#63e845c8417ced4a6a5346a840091730">operator+ </a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; rhsSeconds)<span class="keyword"> const</span>
<a name="l00307"></a>00307 <span class="keyword">        </span>{<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#63e845c8417ced4a6a5346a840091730">operator+</a>(static_cast&lt;ssfSeconds&gt;(rhsSeconds));};
<a name="l00308"></a>00308 
<a name="l00313"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#772d0e6d34feead0fc45e01112cabb21">00313</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#d871bf8787265cb7323a29488d878481">operator+= </a>(<span class="keyword">const</span> <span class="keywordtype">long</span>&amp; rhsSeconds)
<a name="l00314"></a>00314         {<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#d871bf8787265cb7323a29488d878481">operator+=</a>(static_cast&lt;ssfSeconds&gt;(rhsSeconds));}; 
<a name="l00315"></a>00315     
<a name="l00320"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#1a7aef5ecbee472369b0a04aa05f3d40">00320</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#63e845c8417ced4a6a5346a840091730">operator+ </a>(<span class="keyword">const</span> <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a>&amp; rhsSeconds)<span class="keyword"> const</span>
<a name="l00321"></a>00321 <span class="keyword">        </span>{<span class="keywordflow">return</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#bd55f0dcd812f7ad9eced914389ea845">ssfTime</a>(<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> + rhsSeconds);};
<a name="l00322"></a>00322     
<a name="l00327"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#3c6a3ccf8b163d99e7c0727e7eb76f62">00327</a>     <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#d871bf8787265cb7323a29488d878481">operator+= </a>(<span class="keyword">const</span> <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a>&amp; rhsSeconds)
<a name="l00328"></a>00328         {<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> += rhsSeconds; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}; 
<a name="l00329"></a>00329         
<a name="l00334"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#4433e047a507a72d457541463895f8e6">00334</a>     <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#4433e047a507a72d457541463895f8e6">operator- </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00335"></a>00335 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> - rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00336"></a>00336         
<a name="l00341"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#660f6a3d1f04dc78a6e0d5b9e7a1e79e">00341</a>     <span class="keywordtype">bool</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#660f6a3d1f04dc78a6e0d5b9e7a1e79e">operator&gt; </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00342"></a>00342 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> &gt; rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00343"></a>00343         
<a name="l00348"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#81f29df8173c5cd199bb6fc8a778cd7b">00348</a>     <span class="keywordtype">bool</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#81f29df8173c5cd199bb6fc8a778cd7b">operator&gt;= </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00349"></a>00349 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> &gt;= rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00350"></a>00350 
<a name="l00355"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#ed34b08c00735809a11a2e9c14f99c29">00355</a>     <span class="keywordtype">bool</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#ed34b08c00735809a11a2e9c14f99c29">operator&lt; </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00356"></a>00356 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> &lt; rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00357"></a>00357         
<a name="l00362"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#c37d5344c37cabadee77d5b10b912097">00362</a>     <span class="keywordtype">bool</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#c37d5344c37cabadee77d5b10b912097">operator&lt;= </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00363"></a>00363 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> &lt;= rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00364"></a>00364                 
<a name="l00370"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#3de553a4e39700727ee540892efb9313">00370</a>     <span class="keywordtype">bool</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#3de553a4e39700727ee540892efb9313">operator== </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00371"></a>00371 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> == rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00372"></a>00372    
<a name="l00378"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#0bdc7221bdc26839556838a2616573db">00378</a>     <span class="keywordtype">bool</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html#0bdc7221bdc26839556838a2616573db">operator!= </a>(<span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> &amp;rhs)<span class="keyword"> const</span>
<a name="l00379"></a>00379 <span class="keyword">        </span>{<span class="keywordflow">return</span> (<a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a> != rhs.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>());};
<a name="l00380"></a>00380                 
<a name="l00383"></a>00383     <span class="keyword">friend</span> ostream &amp; <a class="code" href="classO__SESSAME_1_1ssfTime.html#47dc9de6dd857dcdef149733230a0c14">operator &lt;&lt; </a>(ostream&amp; s, <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a>&amp; t);
<a name="l00384"></a>00384 <span class="keyword">private</span>:
<a name="l00385"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">00385</a>     <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#b665d4ecbf352f92e60c06e95c2851f1">m_StoredTime</a>; 
<a name="l00386"></a><a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">00386</a>     <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> <a class="code" href="classO__SESSAME_1_1ssfTime.html#43a71b6fcd7e177c450fba5114b6e844">m_EpochTime</a>;  
<a name="l00388"></a>00388 };
<a name="l00389"></a>00389 
<a name="l00394"></a><a class="code" href="namespaceO__SESSAME.html#ea4745bb9a63757083a16cb5e9026931">00394</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a> <a class="code" href="namespaceO__SESSAME.html#ea4745bb9a63757083a16cb5e9026931">c_GreenwichSiderealEpochTime</a> = <a class="code" href="classO__SESSAME_1_1ssfTime.html">ssfTime</a>(1970,1,1,0,0,0);
<a name="l00396"></a><a class="code" href="namespaceO__SESSAME.html#debcfe20b8d2b20515060c889868907a">00396</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__Trigonometry.html#g3daa6e6046c1157e3486877665f1015c">Angle</a> <a class="code" href="namespaceO__SESSAME.html#debcfe20b8d2b20515060c889868907a">c_GreenwichSiderealTimeAtEpoch</a> = 1.74933340; 
<a name="l00397"></a>00397     
<a name="l00403"></a>00403 <span class="keyword">inline</span> <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> Now()                 
<a name="l00404"></a>00404         {timeval tv; gettimeofday(&amp;tv, NULL); <span class="keywordflow">return</span> (tv.tv_sec + tv.tv_usec/1000000.);}
<a name="l00405"></a>00405        <span class="comment">// {return time((time_t *)0);}; </span>
<a name="l00406"></a>00406         
<a name="l00407"></a>00407 
<a name="l00425"></a>00425 <span class="keyword">static</span> ssfTime <a class="code" href="group__TimeUtils.html#ge821a65ec3de192895247f7b867946c4">tickTime</a>(-1); <span class="comment">/*&lt; global variable used to store the initial tick() time */</span>
<a name="l00426"></a>00426 <span class="keyword">static</span> ssfTime <a class="code" href="namespaceO__SESSAME.html#dfc85d72b1330ebcea5087bd13248144">tockTime</a>(-1); <span class="comment">/*&lt; global variable used to store the ending tock() time */</span>
<a name="l00427"></a>00427 
<a name="l00428"></a><a class="code" href="namespaceO__SESSAME.html#f5413fb18a35d6db2651382806a91ef6">00428</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespaceO__SESSAME.html#f5413fb18a35d6db2651382806a91ef6">tick</a>()
<a name="l00429"></a>00429 {
<a name="l00430"></a>00430     <a class="code" href="group__TimeUtils.html#ge821a65ec3de192895247f7b867946c4">tickTime</a>.<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(Now());
<a name="l00431"></a>00431     <span class="keywordflow">return</span>;
<a name="l00432"></a>00432 }
<a name="l00438"></a>00438 <span class="keyword">inline</span> <a class="code" href="group__TimeUtils.html#gcf74f77094de1d5b6b98e537bd2fd9d9">ssfSeconds</a> tock()
<a name="l00439"></a>00439 {
<a name="l00440"></a>00440     <span class="keywordflow">if</span>(<a class="code" href="group__TimeUtils.html#ge821a65ec3de192895247f7b867946c4">tickTime</a>.<a class="code" href="classO__SESSAME_1_1ssfTime.html#703192835a99e76b70f8253fad247e58">GetSeconds</a>() &gt; -1)
<a name="l00441"></a>00441     {
<a name="l00442"></a>00442         <a class="code" href="namespaceO__SESSAME.html#dfc85d72b1330ebcea5087bd13248144">tockTime</a>.<a class="code" href="classO__SESSAME_1_1ssfTime.html#fc3368232d65589cb544062857709e6e">Set</a>(Now());
<a name="l00443"></a>00443         <span class="keywordflow">return</span> <a class="code" href="namespaceO__SESSAME.html#dfc85d72b1330ebcea5087bd13248144">tockTime</a>-<a class="code" href="group__TimeUtils.html#ge821a65ec3de192895247f7b867946c4">tickTime</a>;
<a name="l00444"></a>00444     }
<a name="l00445"></a>00445     <span class="keywordflow">else</span>
<a name="l00446"></a>00446         <span class="keywordflow">return</span> -1;
<a name="l00447"></a>00447 }
<a name="l00448"></a>00448 
<a name="l00453"></a>00453 <span class="keywordtype">void</span> <a class="code" href="namespaceO__SESSAME.html#c05db601974e3cf3fde5e6b1f1571660">DayofYear2YMD</a>(<span class="keywordtype">int</span> _dayOfYear, <span class="keywordtype">int</span> _year, <span class="keywordtype">int</span> &amp;_month, <span class="keywordtype">int</span> &amp;_day);
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 } <span class="comment">// close namespace O_SESSAME</span>
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 <span class="preprocessor">#endif </span>
<a name="l00458"></a>00458 <span class="preprocessor"></span>
<a name="l00459"></a>00459 <span class="comment">// Do not change the comments below - they will be added automatically by CVS</span>
<a name="l00460"></a>00460 <span class="comment">/*****************************************************************************</span>
<a name="l00461"></a>00461 <span class="comment">*       $Log: Time.h,v $</span>
<a name="l00462"></a>00462 <span class="comment">*       Revision 1.13  2003/06/11 14:22:34  nilspace</span>
<a name="l00463"></a>00463 <span class="comment">*       Added comments to GetDateTime() and GetEpochDateTime()</span>
<a name="l00464"></a>00464 <span class="comment">*       </span>
<a name="l00465"></a>00465 <span class="comment">*       Revision 1.12  2003/06/10 01:11:46  nilspace</span>
<a name="l00466"></a>00466 <span class="comment">*       Fixed Time to build correctly (changed Greenwich epoch time to object instead of pointer)</span>
<a name="l00467"></a>00467 <span class="comment">*       </span>
<a name="l00468"></a>00468 <span class="comment">*       Revision 1.11  2003/06/09 19:41:30  nilspace</span>
<a name="l00469"></a>00469 <span class="comment">*       Added SetEpoch(year,month,day,hour,minute,second)</span>
<a name="l00470"></a>00470 <span class="comment">*       </span>
<a name="l00471"></a>00471 <span class="comment">*       Revision 1.10  2003/06/06 00:34:47  nilspace</span>
<a name="l00472"></a>00472 <span class="comment">*       ?</span>
<a name="l00473"></a>00473 <span class="comment">*       </span>
<a name="l00474"></a>00474 <span class="comment">*       Revision 1.9  2003/05/21 03:57:52  nilspace</span>
<a name="l00475"></a>00475 <span class="comment">*       Added GetEpochJulianDate and comments to JulianDate conversion function.</span>
<a name="l00476"></a>00476 <span class="comment">*       </span>
<a name="l00477"></a>00477 <span class="comment">*       Revision 1.8  2003/05/19 21:19:49  nilspace</span>
<a name="l00478"></a>00478 <span class="comment">*       Made calls to overloaded Set() and SetEpoch() functions recursive calls to Set(ssfSeconds) and SetEpoch(ssfSeconds)</span>
<a name="l00479"></a>00479 <span class="comment">*       </span>
<a name="l00480"></a>00480 <span class="comment">*       Revision 1.7  2003/05/19 19:21:37  nilspace</span>
<a name="l00481"></a>00481 <span class="comment">*       Added #include&lt;sys/time.h&gt;</span>
<a name="l00482"></a>00482 <span class="comment">*       </span>
<a name="l00483"></a>00483 <span class="comment">*       Revision 1.6  2003/05/16 14:01:24  nilspace</span>
<a name="l00484"></a>00484 <span class="comment">*       Called gettimeofday(timeval*) to have Now(), and tick/tock return seconds with subsecond decimal parts.</span>
<a name="l00485"></a>00485 <span class="comment">*       </span>
<a name="l00486"></a>00486 <span class="comment">*       Revision 1.5  2003/05/09 23:44:29  nilspace</span>
<a name="l00487"></a>00487 <span class="comment">*       Added operator!=()</span>
<a name="l00488"></a>00488 <span class="comment">*       </span>
<a name="l00489"></a>00489 <span class="comment">*       Revision 1.4  2003/04/30 16:32:48  nilspace</span>
<a name="l00490"></a>00490 <span class="comment">*       Added operator== to ssfTime</span>
<a name="l00491"></a>00491 <span class="comment">*       </span>
<a name="l00492"></a>00492 <span class="comment">*       Revision 1.3  2003/04/27 22:04:34  nilspace</span>
<a name="l00493"></a>00493 <span class="comment">*       Created the namespace O_SESSAME.</span>
<a name="l00494"></a>00494 <span class="comment">*       </span>
<a name="l00495"></a>00495 <span class="comment">*       Revision 1.2  2003/04/25 13:45:56  nilspace</span>
<a name="l00496"></a>00496 <span class="comment">*       const'd Get() functions.</span>
<a name="l00497"></a>00497 <span class="comment">*       </span>
<a name="l00498"></a>00498 <span class="comment">*       Revision 1.1  2003/04/23 14:14:45  nilspace</span>
<a name="l00499"></a>00499 <span class="comment">*       New simulation time.</span>
<a name="l00500"></a>00500 <span class="comment">*       </span>
<a name="l00501"></a>00501 <span class="comment">*</span>
<a name="l00502"></a>00502 <span class="comment">******************************************************************************/</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Oct 19 17:54:43 2007 for Open-Sessame Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
